<!DOCTYPE html>
<html lang="en" class="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" href="favicon.png" />
    <title>[dev] World Class Tests Enrolment Form</title>
    <script type="text/javascript">
      var envName = "local"; // dev | stg | pro | others are mock env
      var envConfig = createEnvConfig(envName);
      for (var key in envConfig) {
        varName = "__" + key + "__";
        window[varName] = envConfig[key];
      }

      function createEnvConfig(envName) {
        switch (envName) {
          case "dev":
            return createBaseConfig(
              "https://wct4apidev.worldclasstests.hk",
              "https://wct4ossdev.worldclasstests.hk",
              {
                ENABLE_REDUX_DEVTOOL: "1", // Redux devTool is very slow, disable it when no need
              }
            );

          case "stg":
            return createBaseConfig(
              "https://wct4apistg.worldclasstests.hk",
              "https://wct4ossstg.worldclasstests.hk",
              {
                ENABLE_QUESTION_DEBUG: "1",
              }
            );

          case "pro":
            return createBaseConfig(
              "https://api.worldclasstests.hk",
              "https://cdn.worldclasstests.hk",
              {
                ENABLE_QUESTION_DEBUG: "1",
              }
            );

          default:
            return createBaseConfig("", "", {
              API_MOCK: "1",
            });
        }
      }

      function createBaseConfig(apiHost, cdnHost, options = {}) {
        const apiBaseURL = apiHost + "/api";
        const notifyServerHost = apiHost
          ? apiHost.replace("https", "wss")
          : "";

        return Object.assign(
          {
            // general
            FRONTEND_VERSION: "0.0.1",
            APP_HOME: "/",
            API_BASEURL: apiBaseURL,
            CDN_BASEURL: cdnHost,
            DEFAULT_LANG: "tc",

            // stat (production only)
            ENABLE_GOOGLE_ANALYTICS: "0",
            ENABLE_FACEBOOK_PIXEL: "0",

            // misc
            ENABLE_REDUX_DEVTOOL: "0", // redux devtool is slow! open only when needed!
            ENABLE_QUESTION_DEBUG: "0",

            // local dev only
            API_MOCK: "0", //Api Mock 總開關
          },
          options
        );
      }
    </script>
    <script>
      window.onload = function () {
        __startApp();
      };
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>
